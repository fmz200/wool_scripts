#!name=Keep
#!desc=æŸäº›APPè¦æ¸…é™¤ç¼“å­˜æˆ–è€…é‡æ–°å®‰è£…æ‹¦æˆªå¹¿å‘Šæ‰ä¼šç”Ÿæ•ˆï¼
#!author=å¥¶æ€
#!homepage=https://github.com/fmz200/wool_scripts
#!icon=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/gif/naisi-01.gif
#!raw-url=https://github.com/fmz200/wool_scripts/raw/main/Loon/plugin/split/partK/Keep.lpx
#!tg-channel=https://t.me/inaisi
#!date=2025-10-03 10:36:53
#############################################

[Argument]
keep_enable = switch,true,false,tag=keep-è„šæœ¬å¼€å…³

[Rule]
# æ„Ÿè°¢ã€å¯è‰ğŸ…¥ã€‘åˆ†äº«
# æ‹¦æˆªHTTPDNS
DOMAIN, httpdns.n.netease.com, REJECT
DOMAIN, httpdns.calorietech.com, REJECT
# æ‹¦æˆªå¹¿å‘Šä¸‹å‘
DOMAIN, hc-ssp.sm.cn, REJECT
DOMAIN, apm.gotokeep.com, REJECT
DOMAIN, kad.gotokeep.com, REJECT


[Rewrite]
^https?:\/\/static1\.keepcdn\.com\/ark_optimus\/202\d\/*\/*\/.*.(png|jpg) reject-200
# å±è”½åº”ç”¨å†…å¼¹çª—
^https?:\/\/api\.gotokeep\.com\/guide-webapp\/v\d\/popup\/getPopUp reject
# å±è”½éƒ¨åˆ†å¯åŠ¨å¼¹çª—
^https?:\/\/api\.gotokeep\.com\/kprime\/v\d\/popups\/primeGuide reject
# å±è”½å¼€å±å¹¿å‘Šè¯·æ±‚
^https?:\/\/kad\.gotokeep\.com\/op-engine-webapp\/v\d\/ad reject
# å±è”½é’å°‘å¹´å¼¹çª—
^https?:\/\/api.gotokeep.com/cauchy/growth/init reject
# å±è”½æœç´¢æ è‡ªåŠ¨å¡«å……è¯
^https?:\/\/api\.gotokeep\.com\/search\/v\d\/default\/keyword\/list reject
# å±è”½çƒ­è¯
^https?:\/\/api\.gotokeep\.com\/search\/v\d\/hotword\/list reject
# å±è”½hotCourse
^https?:\/\/api\.gotokeep\.com\/search\/v\d\/hotCourse\/list reject
# å±è”½adwebapp
^https?:\/\/api\.gotokeep\.com\/op-engine-webapp\/v\d\/ad reject
# å±è”½å¹¿å‘Šé¢„åŠ è½½
^https?:\/\/api\.gotokeep\.com\/ads\/v\d\/ads\/preload reject
# å±è”½adbox
^https?:\/\/api\.gotokeep\.com\/training\/box\/config reject
# å±è”½æ›´æ–°
^https?:\/\/api\.gotokeep\.com\/anno\/v\d\/upgrade\/check reject


[Script]
# æˆ‘çš„é¡µé¢å»æ¨å¹¿
http-response ^https?:\/\/api\.gotokeep\.com\/athena\/v\d\/people\/my$ script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/keep.js, requires-body=true, timeout=60, tag=keep, enable={keep_enable}
# åº”ç”¨åº•éƒ¨æ å‡€åŒ–
http-response ^https?:\/\/api\.gotokeep\.com\/config\/v\d\/basic script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/keep.js, requires-body=true, timeout=60, tag=keep, enable={keep_enable}
# å‘ç°é¡µå¤„ç†
http-response ^https?:\/\/api\.gotokeep\.com\/homepage\/v\d\/tab script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/keep.js, requires-body=true, timeout=60, tag=keep, enable={keep_enable}
# è¯¾ç¨‹é¢„è§ˆé¡µå¹¿å‘Š
http-response ^https?:\/\/api\.gotokeep\.com\/nuocha\/course\/v\d/\w+\/preview script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/keep.js, requires-body=true, timeout=60, tag=keep, enable={keep_enable}
# æˆ‘çš„è¿åŠ¨é¡µé¢å»é™¤ä¸‹æ–¹æ¨è
http-response ^https?:\/\/api\.gotokeep\.com\/sportpage\/sport\/v\d\/mysport script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/keep.js, requires-body=true, timeout=60, tag=keep, enable={keep_enable}


[MITM]
hostname = api.gotokeep.com, kad.gotokeep.com, static1.keepcdn.com